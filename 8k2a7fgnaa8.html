<h1 data-label="874460" class="ltx_title_section"></h1><h1 data-label="874460" class="ltx_title_section"></h1><h1 data-label="874460" class="ltx_title_section"></h1><div></div><div></div><div></div><div></div><div>## Gateway Setup</div><div><a href="https://freighttrust.com">https://freighttrust.com</a></div><div><a href="https://t.me/freighttrust">https://t.me/freighttrust</a></div><div><a href="https://github.com/freight-trust">https://github.com/freight-trust</a></div><div><a href="https://twitter.com/freighttrustnet">https://twitter.com/freighttrustnet</a></div><div></div><div>### <a href="mailto:admin@freighttrust.com">admin@freighttrust.com</a></div><div></div><div>##### please read CLA and DCO </div><div></div><div>###### licensed under bsd-3-clause &amp; other open source licenses including gpl2.</div><div></div><div></div><div></div><div>Installing Master Node Client</div><div></div><div></div><div>## Setting up client </div><div></div><div>```</div><div>General availability client: RHEL/CentOS 7.4-7.7</div><div>disallowed: other distros (no ubuntu). </div><div></div><div>Reference Build Vanilla </div><div><a href="http://linuxsoft.cern.ch/cern/centos/7/rt/CentOS-RT.repo">http://linuxsoft.cern.ch/cern/centos/7/rt/CentOS-RT.repo</a></div><div></div><div>```</div><div>#### </div><div></div><div> - [ ] java</div><div> - [ ] node.js</div><div> - [ ] virtual box</div><div> - [ ] docker</div><div> - [ ] lxc</div><div> - [ ] rust</div><div> - [ ] mosh</div><div> - [ ] </div><div> - [ ] wget/curl/zsh</div><div> - [ ] &amp;&amp;</div><div> - [ ] &amp;&amp;&amp;</div><div></div><div>prep terminal</div><div>ssh into instance on aws / gcp</div><div></div><div></div><div></div><div>##### 1. prep terminal </div><div></div><div>$ sudo dnf install mosh</div><div></div><div>```</div><div>$ cd /etc/yum.repos.d</div><div>wget <a href="http://download.virtualbox.org/virtualbox/rpm/rhel/virtualbox.repo">http://download.virtualbox.org/virtualbox/rpm/rhel/virtualbox.repo</a></div><div>```</div><div>##### 2. Install docker &amp; docker machine</div><div>install&nbsp; docker-ce &amp; docker-machine</div><div>```</div><div>base=<a href="https://raw.githubusercontent.com/docker/machine/v0.16.0">https://raw.githubusercontent.com/docker/machine/v0.16.0</a></div><div>for i in docker-machine-prompt.bash docker-machine-wrapper.bash docker-machine.bash</div><div>do</div><div>sudo wget "$base/contrib/completion/bash/${i}" -P /etc/bash_completion.d</div><div>done </div><div>```</div><div>⚠️ issue with cgroup while installing docker? try: </div><div>```docker cgroup issue:</div><div>$ sudo yum install cgroup-lite</div><div>```</div><div></div><div>recommended fusion/baseimage</div><div></div><div>[<a href="https://hub.docker.com/r/phusion/baseimage/](https://hub.docker.com/r/phusion/baseimage/)">https://hub.docker.com/r/phusion/baseimage/](https://hub.docker.com/r/phusion/baseimage/)</a></div><div>##### 3. install node/npm</div><div>```</div><div>$ curl -o- <a href="https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.1/install.sh">https://raw.githubusercontent.com/nvm-sh/nvm/v0.35.1/install.sh</a> | bash</div><div>export NVM_DIR="$HOME/.nvm"</div><div>[ -s "$NVM_DIR/nvm.sh" ] &amp;&amp; \. "$NVM_DIR/nvm.sh"&nbsp; # This loads nvm</div><div>[ -s "$NVM_DIR/bash_completion" ] &amp;&amp; \. "$NVM_DIR/bash_completion"&nbsp; # This loads nvm bash_completion</div><div>```</div><div></div><div>##### 4. install&nbsp; oracle java 13.0.1 </div><div>```</div><div>$ yum install -y <a href="https://maidenlane.s3.amazonaws.com/jdk-13.0.1_linux-x64_bin.rpm(https://maidenlane.s3.amazonaws.com/jdk-13.0.1_linux-x64_bin.rpm)">https://maidenlane.s3.amazonaws.com/jdk-13.0.1_linux-x64_bin.rpm(https://maidenlane.s3.amazonaws.com/jdk-13.0.1_linux-x64_bin.rpm)</a></div><div>```</div><div>##### 6. download besu client base image </div><div>```</div><div>$ docker pull besu:madienlane &amp;&amp;&nbsp; </div><div>```</div><div>##### 5. start client</div><div>```</div><div>$ bin/besu</div><div>```</div><div></div><div></div><div></div><div>##### 6. Import private key from initial validator genesis </div><div>```</div><div>$ mv 0x1234ABCD.key /user/ftn#/besu/config</div><div>```</div><div>##### 7. Import private key from initial validator genesis </div><div>```</div><div>$ ./inspect.sh</div><div>$ ./gateway.sh</div><div>```</div><div>..</div><div></div><div></div><div></div><div></div><div>## teeDai - trusted execution environment (inter)side (change)chain</div><div></div><div>##### Creating the sterlingOS </div><div>a performant bare metal configuration for&nbsp; Intel x86 SGX clustering</div><div></div><div>Hardware working on:</div><div></div><div>PowerEdge R230 BiOS 2.4+ 1270 R230 Xeon </div><div></div><div>Currently SGX1 coverage, as no cloud provider has SGX2 out-of-the-box + bios support.</div><div></div><div>##### Trusted Setup for zK-SNARK/SGX "</div><div>##### 8. Intel SGX Sidechain Enclave ☢️</div><div>#####&nbsp;&nbsp; End User Notice </div><div> Adjusting these settings can result in an unstable system. These are</div><div> root only and assumes root knows what they are doing.</div><div></div><div>Most notable:</div><div></div><div> ⚠️ very small values in sched_rt_period_us can result in an unstable</div><div>&nbsp;&nbsp; system when the period is smaller than either the available hrtimer</div><div>&nbsp;&nbsp; resolution, or the time it takes to handle the budget refresh itself.</div><div></div><div> ⚠️ very small values in sched_rt_runtime_us can result in an unstable</div><div>&nbsp;&nbsp; system when the runtime is so small the system has difficulty making</div><div>&nbsp;&nbsp; forward progress (NOTE: the migration thread and kstopmachine both</div><div>&nbsp;&nbsp; are real-time processes).</div><div></div><div>Realtime scheduling is all about determinism, a group has to be able to rely on</div><div>the amount of bandwidth (eg. CPU time) being constant. In order to schedule</div><div>multiple groups of realtime tasks, each group must be assigned a fixed portion</div><div>of the CPU time available.</div><div></div><div>#### Network Wide Settings</div><div></div><div>2.1 System wide settings</div><div>------------------------</div><div>Make sure you have</div><div></div><div>[SGX Hardware Support](<a href="https://github.com/ayeks/SGX-hardware">https://github.com/ayeks/SGX-hardware</a>)</div><div>[Intel Product Specifications (check to see if your specific make supports](<a href="https://ark.intel.com/content/www/us/en/ark.html">https://ark.intel.com/content/www/us/en/ark.html</a>)</div><div></div><div>``Intel SGX driver installed and /dev/isgx works``</div><div>``gdb 7.11.1``</div><div>`development libraries needed:`</div><div>`$ yum install libcgroup libcgroup-tools libcurl4-openssl-dev libssl-dev`</div><div></div><div>``` [baiduxlabs/sgx-rust](<a href="https://hub.docker.com/r/baiduxlab/sgx-rust">https://hub.docker.com/r/baiduxlab/sgx-rust</a>) ```</div><div>&gt;⛔️ **rustup** for install, MUST NOT use package managers, i.e. yum, rpm, apt</div><div></div><div></div><div>The system wide settings are configured under the /proc virtual file system:</div><div></div><div>/proc/sys/kernel/sched_rt_period_us:</div><div>&nbsp; The scheduling period that is equivalent to 100% CPU bandwidth</div><div></div><div>/proc/sys/kernel/sched_rt_runtime_us:</div><div>&nbsp; A global limit on how much time realtime scheduling may use.&nbsp; Even without</div><div>&nbsp; CONFIG_RT_GROUP_SCHED enabled, this will limit time reserved to realtime</div><div>&nbsp; processes. With CONFIG_RT_GROUP_SCHED it signifies the total bandwidth</div><div>&nbsp; available to all realtime groups.</div><div></div><div>&nbsp; * Time is specified in us because the interface is s32. This gives an</div><div>&nbsp;&nbsp;&nbsp; operating range from 1us to about 35 minutes.</div><div>&nbsp; * sched_rt_period_us takes values from 1 to INT_MAX.</div><div>&nbsp; * sched_rt_runtime_us takes values from -1 to (INT_MAX - 1).</div><div>&nbsp; * A run time of -1 specifies runtime == period, ie. no limit.</div><div>requires [<a href="https://github.com/mesalock-linux](https://github.com/mesalock-linux)">https://github.com/mesalock-linux](https://github.com/mesalock-linux)</a></div><div></div><div></div><div></div><div>#### Disable irqbalance daemon</div><div>```</div><div># service irqbalance status</div><div>irqbalance (pid PID) is running...</div><div>```</div><div></div><div>**if irqbalance daemon is running, disable..**</div><div>```</div><div># service irqbalance stop</div><div>Stopping irqbalance: [ OK ]</div><div>```</div><div>Use chkconfig to ensure that irqbalance does not restart on boot.</div><div>```</div><div># chkconfig irqbalance off</div><div>```</div><div></div><div>Binding Processes to CPUs using the taskset utility</div><div></div><div></div><div>#### SGX Driver</div><div>```</div><div>$ curl --output /tmp/driver.bin <a href="https://download.01.org/intel-sgx/linux-2.3.1/ubuntu18.04/sgx_linux_x64_driver_4d69b9c.bin">https://download.01.org/intel-sgx/linux-2.3.1/ubuntu18.04/sgx_linux_x64_driver_4d69b9c.bin</a></div><div>/usr/bin/env bash /tmp/driver.bin</div><div>depmod</div><div>modprobe isgx</div><div>```</div><div>verify install: ```dmesg``` should show ``` Intel SGX Driver v0.11``` install was successful </div><div></div><div></div><div>#### configure libsecp256k</div><div></div><div>configure the libsecp256k1 library by going into </div><div></div><div>```</div><div>$ cd src/trusted/libs/</div><div></div><div></div><div>```</div><div>### aesmd daemon </div><div>```</div><div>$ docker run --rm -it -v /run/aesmd:/run/aesmd --device /dev/isgx &lt;AWS ECR LINK&gt;</div><div>```</div><div></div><div></div><div>#### Building Client </div><div></div><div>(I)&nbsp;&nbsp; Protocol</div><div>(II)&nbsp; Servlet </div><div>(III) Enclavelet</div><div></div><div></div><div>Notes:</div><div>Maven pom.xml config</div><div></div><div>define JVM configuration via ${maven.projectBasedir}/.mvn/jvm.config</div><div></div><div>``` </div><div> -Xmx2048m -Xms1024m -XX:MaxPermSize=512m -Djava.awt.headless=true</div><div></div><div>Maven pom.xml</div><div></div><div>MAVEN_OPTS=-XX:MaxRAM=3572m -Xmx1g</div><div>-XX:MaxRAM=3572m -Xmx8g</div><div></div><div></div><div>___</div><div></div><div>&gt; (c)[freight trust &amp; clearing corporation](<a href="https://freighttrust.com/">https://freighttrust.com/</a>)&nbsp; </div><div>&gt; licensed under bsd-3 clause &amp; other open source licenses. </div><h1 data-label="874460" class="ltx_title_section">Introduction</h1><div>Lorem ipsum dolor sit amet, consectetur adipiscing elit <cite class="ltx_cite raw v1">\citet{28439448}</cite>. Cras egestas auctor molestie.<b> In hac habitasse platea dictumst.</b> Duis turpis tellus, scelerisque sit amet lectus ut, ultricies cursus enim. Integer fringilla a elit at fringilla. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla congue consequat consectetur. Duis ac mi ultricies, mollis ipsum nec, porta est.&nbsp;<span class="math ltx_Math v1">\({}^{4}_{12}\mathbf{C}^{5+}_{2}\)</span></div><div></div>